# Collage Bot

## üì¶ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Telegram-–±–æ—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ **Python (Aiogram 3)**, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π ‚Äì —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–ª–∞–∂–∏, –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–≥–æ Telegram-—Å–µ—Ä–≤–∏—Å–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ **–º–µ–∂–¥—É –¥–≤—É–º—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ (Mac –∏ Windows)**.

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö **Docker Compose** –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

| –°–µ—Ä–≤–∏—Å              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                                          |
| ------------------- | --------------------------------------------------------------------------------------------------- |
| **bot_server**      | –û—Å–Ω–æ–≤–Ω–æ–π Telegram-–±–æ—Ç (Aiogram + aiohttp). –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–µ–±—Ö—É–∫–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. |
| **nginx_server**    | –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–æ—Ç-—Å–µ—Ä–≤–µ—Ä–∞–º–∏. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Telegram.         |
| **postgres_server** | –•—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å—ã.                                                                  |
| **redis_server**    | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è FSM-—Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∞–Ω—Ç–∏—Ñ–ª—É–¥, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ).                          |
| **backup_service**  | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.                                                  |

---

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

1. **Telegram ‚Üí Tuna Tunnel ‚Üí Nginx**
   Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–π HTTPS-–∞–¥—Ä–µ—Å, –≤—ã–¥–∞–Ω–Ω—ã–π **Tuna Tunnel**. –¢—É–Ω–Ω–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç `80`.

2. **Nginx ‚Üí Bot Servers**
   Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –±–æ—Ç–∞–º–∏:

   * **Mac** ‚Äì `192.168.1.n:8080`
   * **Windows** ‚Äì `192.168.1.n:8080`
     –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

3. **Bot Server ‚Üí PostgreSQL + Redis**

   * PostgreSQL ‚Äì —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å—Ç–∞—Ç—É—Å—ã, –ª–æ–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
   * Redis ‚Äì FSM-—Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞–Ω—Ç–∏—Å–ø–∞–º, –∫—ç—à –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

---

## üßë‚Äçüíª –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Python 3.11**
* **Aiogram 3**, **aiohttp**
* **PostgreSQL**, **Redis**
* **Nginx**
* **Docker & Docker Compose**
* **Tuna Tunnel** ‚Äì –ø—Ä–∏—ë–º –≤–µ–±—Ö—É–∫–æ–≤ Telegram
* **AsyncPG** ‚Äì –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ PostgreSQL

---

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

* –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–≤—É—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—è –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É –Ω–∏–º–∏ —á–µ—Ä–µ–∑ Nginx.
* –í–µ–±—Ö—É–∫–∏ Telegram –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å Tuna.
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
* –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Docker Compose.

---
